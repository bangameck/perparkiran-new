<!-- /**
* @author [bangameck.rra]
* @email [rahmad.looker@gmail.com]
* @create date 2021-06-11 14:32:29
* @modify date 2021-06-11 14:34:09
* @desc [description]
*/ -->
<!-- latest jquery-->
<script src="<?= base_url(); ?>assets/js/jquery-3.5.1.min.js"></script>
<!-- Bootstrap js-->
<script src="<?= base_url(); ?>assets/js/bootstrap/bootstrap.bundle.min.js"></script>
<!-- feather icon js-->
<script src="<?= base_url(); ?>assets/js/icons/feather-icon/feather.min.js"></script>
<script src="<?= base_url(); ?>assets/js/icons/feather-icon/feather-icon.js"></script>
<!-- scrollbar js-->
<script src="<?= base_url(); ?>assets/js/scrollbar/simplebar.js"></script>
<script src="<?= base_url(); ?>assets/js/scrollbar/custom.js"></script>
<!-- Sidebar jquery-->
<script src="<?= base_url(); ?>assets/js/config.js"></script>
<!-- Plugins JS start-->
<!-- <script src="<?= base_url(); ?>/assets/js/height-equal.js"></script> -->
<script src="<?= base_url(); ?>assets/js/sidebar-menu.js"></script>
<script src="<?= base_url(); ?>assets/js/isotope.pkgd.js"></script>
<script src="<?= base_url(); ?>assets/js/animation/aos/aos.js"></script>
<script src="<?= base_url(); ?>assets/js/animation/aos/aos-init.js"></script>
<script src="<?= base_url(); ?>assets/js/timeline/timeline-v-1/main.js"></script>
<script src="<?= base_url(); ?>assets/js/modernizr.js"></script>
<script src="<?= base_url(); ?>assets/js/timeline/timeline-v-2/jquery.timeliny.min.js"></script>
<script src="<?= base_url(); ?>assets/js/timeline/timeline-v-2/timeline-v-2-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/scrollable/perfect-scrollbar.min.js"></script>
<script src="<?= base_url(); ?>assets/js/scrollable/scrollable-custom.js"></script>
<!-- <script src="<?= base_url(); ?>assets/js/editor/simple-mde/simplemde.min.js"></script>
<script src="<?= base_url(); ?>assets/js/editor/simple-mde/simplemde.custom.js"></script> -->
<script src="<?= base_url(); ?>assets/js/touchspin/vendors.min.js"></script>
<script src="<?= base_url(); ?>assets/js/touchspin/touchspin.js"></script>
<script src="<?= base_url(); ?>assets/js/touchspin/input-groups.min.js"></script>
<script src="<?= base_url(); ?>assets/js/form-validation-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/select2/select2.full.min.js"></script>
<script src="<?= base_url(); ?>assets/js/select2/select2-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/height-equal.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/chartist/chartist.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/chartist/chartist-plugin-tooltip.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/knob/knob.min.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/knob/knob-chart.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/apex-chart/apex-chart.js"></script>
<script src="<?= base_url(); ?>assets/js/chart/apex-chart/stock-prices.js"></script>
<script src="<?= base_url(); ?>assets/js/notify/bootstrap-notify.min.js"></script>
<script src="<?= base_url(); ?>assets/js/dashboard/default.js"></script>
<!-- <script src="<?= base_url(); ?>assets/js/notify/index.js"></script> -->
<!-- <script src="<?= base_url(); ?>assets/js/sweet-alert/sweetalert.min.js"></script> -->
<script src="<?= base_url(); ?>assets/js/modal-animated.js"></script>
<script src="<?= base_url(); ?>assets/js/sweet-alert/sweetalert2.all.min.js"></script>
<script src="<?= base_url(); ?>assets/js/sweet-alert/app.js"></script>
<script src="<?= base_url(); ?>assets/js/tooltip-init.js"></script>
<script src="<?= base_url(); ?>assets/js/datepicker/date-picker/datepicker.js"></script>
<script src="<?= base_url(); ?>assets/js/datepicker/date-picker/datepicker.en.js"></script>
<script src="<?= base_url(); ?>assets/js/datepicker/date-picker/datepicker.custom.js"></script>
<script src="<?= base_url(); ?>assets/js/time-picker/jquery-clockpicker.min.js"></script>
<script src="<?= base_url(); ?>assets/js/time-picker/highlight.min.js"></script>
<script src="<?= base_url(); ?>assets/js/time-picker/clockpicker.js"></script>
<script src="<?= base_url(); ?>assets/js/typeahead/handlebars.js"></script>
<script src="<?= base_url(); ?>assets/js/typeahead/typeahead.bundle.js"></script>
<script src="<?= base_url(); ?>assets/js/typeahead/typeahead.custom.js"></script>
<script src="<?= base_url(); ?>assets/js/typeahead-search/handlebars.js"></script>
<script src="<?= base_url(); ?>assets/js/typeahead-search/typeahead-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/counter/jquery.waypoints.min.js"></script>
<script src="<?= base_url(); ?>assets/js/counter/jquery.counterup.min.js"></script>
<script src="<?= base_url(); ?>assets/js/counter/counter-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/photoswipe/photoswipe.min.js"></script>
<script src="<?= base_url(); ?>assets/js/photoswipe/photoswipe-ui-default.min.js"></script>
<script src="<?= base_url(); ?>assets/js/photoswipe/photoswipe.js"></script>
<script src="<?= base_url(); ?>assets/js/owlcarousel/owl.carousel.js"></script>
<script src="<?= base_url(); ?>assets/js/owlcarousel/owl-custom.js"></script>
<script src="<?= base_url(); ?>assets/js/animation/wow/wow.min.js"></script>
<script src="<?= base_url(); ?>assets/js/animation/wow/wow-init.js"></script>
<!-- Plugins JS Ends-->
<!-- Theme js-->
<script src="<?= base_url(); ?>assets/js/script.js"></script>
<script src="<?= base_url(); ?>assets/js/theme-customizer/customizer.js"></script>
<!-- login js-->
<!-- Plugin used-->
<!-- data tables  -->
<script src="<?= base_url(); ?>assets/js/datatable/datatables/jquery.dataTables.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.buttons.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/jszip.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/buttons.colVis.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/pdfmake.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/vfs_fonts.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.autoFill.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.select.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/buttons.bootstrap4.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/buttons.html5.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/buttons.print.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.bootstrap4.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.responsive.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/responsive.bootstrap4.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.keyTable.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.colReorder.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.fixedHeader.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.rowReorder.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/dataTables.scroller.min.js"></script>
<script src="<?= base_url(); ?>assets/js/datatable/datatable-extension/custom.js"></script>
<script src="<?= base_url(); ?>assets/js/idle-master/jquery.idle.js"></script>
<script src="<?= base_url(); ?>assets/js/idle-master/jquery.idle.min.js"></script>
<script src="<?= base_url(); ?>assets/js/jquery-idle/src/jquery.idletimeout.js"></script>
<script src="<?= base_url(); ?>assets/js/jquery-idle/src/jquery.idletimer.js"></script>
<script src="https://cdn.rawgit.com/igorescobar/jQuery-Mask-Plugin/1ef022ab/dist/jquery.mask.min.js"></script>

<script>
//IdleTime
$.idleTimeout("#idletimeout", "#idletimeout a", {
            idleAfter: 600,
            pollingInterval: 2,
            keepAliveURL: "<?= base_url(); ?>",
            serverResponseEquals: "OK",
            onTimeout: function() {
                $(this).slideUp();
                window.location = "<?= base_url(); ?>out";
            },
            onIdle: function() {
                $(this).slideDown(); // show the warning bar
            },
            onCountdown: function(counter) {
                $(this).find("span").html(counter); // update the counter
            },
            onResume: function() {
                $(this).slideUp(); // hide the warning bar
            },
        });

//progres bar
function ambilId(file){
		return document.getElementById(file);
	}
 
	$(document).ready(function(){
		$("#imgUpload").click(function(){
			ambilId("progressBar").style.display = "block";
			var file = ambilId("file").files[0];
 
			if (file!="") {
				var formdata = new FormData();
				formdata.append("file", file);
				var ajax = new XMLHttpRequest();
				ajax.upload.addEventListener("progress", progressHandler, false);
				ajax.addEventListener("load", completeHandler, false);
				ajax.addEventListener("error", errorHandler, false);
				ajax.addEventListener("abort", abortHandler, false);
				ajax.open("POST", "/_template/upload.php");
				ajax.send(formdata);
			}
		});
	});
 
	function progressHandler(event){
		ambilId("loaded_n_total").innerHTML = "Uploaded "+event.loaded+" bytes of "+event.total;
		var percent = (event.loaded / event.total) * 100;
		ambilId("progressBar").value = Math.round(percent);
		ambilId("status").innerHTML = Math.round(percent)+"% uploaded... please wait";
	}
	function completeHandler(event){
		ambilId("status").innerHTML = event.target.responseText;
		ambilId("progressBar").value = 0;
	}
	function errorHandler(event){
		ambilId("status").innerHTML = "Upload Failed";
	}
	function abortHandler(event){
		ambilId("status").innerHTML = "Upload Aborted";
	}

//hanya angka
function hanyaAngka(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode < 48 || charCode > 57))

            return false;
        return true;
    }

//username huruf kecil tanpa space
$("#username").on({
    keydown: function(e) {
        if (e.which === 32)
            return false;
    },
    keyup: function() {
        this.value = this.value.toLowerCase();
    },
    change: function() {
        this.value = this.value.replace(/\s/g, "");

    }
});

//Lihat Password
$(document).ready(function() {
    $('.view_pass').click(function() {
        if ($(this).is(':checked')) {
            $('.password').attr('type', 'text');
        } else {
            $('.password').attr('type', 'password');
        }
    });
});

//Cek Username ke Database
$(document).ready(function() {
    $("#username").change(function() {
        $("#message").html(
            "<li><i class='fa fa-spinner text-success fa-spin' ></i> check username...</li>");

        var username = $("#username").val();

        $.ajax({
            type: "post",
            url: "<?= base_url(); ?>check_users",
            data: "username=" + username,
            success: function(data) {
                if (data == 0) {
                    $("#message").html(
                        "<i class='fa fa-check text-success'></i> Username Tersedia.");
                } else {
                    $("#message").html(
                        "<i class='fa fa-times text-danger'></i> Username Tidak Tersedia."
                    );
                }
            }
        });

    });

});

//cek email
$(document).ready(function() {
    $("#email").change(function() {
        $("#message_email").html(
            "<li><i class='fa fa-spinner text-success fa-spin' ></i> check Email...</li>");

        var email = $("#email").val();

        $.ajax({
            type: "post",
            url: "<?= base_url(); ?>check_email",
            data: "email=" + email,
            success: function(data) {
                if (data == 0) {
                    $("#message_email").html(
                        "<i class='fa fa-check text-success'></i> Email Tersedia.");
                } else {
                    $("#message_email").html(
                        "<i class='fa fa-times text-danger'></i> Email Tidak Tersedia."
                    );
                }
            }
        });

    });

});


//jumlah
$(document).ready(function() {
        $("#lk, #pr, #ln, #tv").keyup(function() {
            var lk  = $("#lk").val();
            var pr = $("#pr").val();
            var ln = $("#ln").val();
            var tv = $("#tv").val();
            var total = parseInt(lk) + parseInt(pr) + parseInt(ln) - parseInt(tv);
            $("#total").val(total);
        });
    });

//Preview Gambar
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function(e) {
            $('#imgPreview').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
    }
}
$("#imgUpload").change(function() {
    readURL(this);
});

$(document).ready(function(){
	    // Format nomor HP.
	  $( '.no_hp' ).mask('0000-0000-0000');
	})

document.querySelector(".third").addEventListener('click', function(){
  swal.fire("Our First Alert", "With some body text and success icon!", "success");
});

//
function hapustemp() {
    event.preventDefault(); 
    var form = event.target.form; 
    Swal.fire({
				title: 'Apakah kamu yakin?',
				text: 'Data yang sudah blokir tidak akan  bisa login kembali.!',
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ya',
				cancelButtonText: 'Tidak',
			  }).then((result) => {
				if (result.isConfirmed) {
				  Swal.fire(
					'Berhasil diblokir!',
					'Data Berhasil diblokir. hanya admin yang dapat mengubah status pemblokiran.',
					'success'
				  );
				  window.setTimeout(function() {
					form.submit();
				 }, 2000)
				}
			  });
}

function hapus() {
	event.preventDefault(); 
    var form = event.target.form; 
	Swal.fire({
				title: 'Apakah kamu yakin?',
				text: 'Menghapus data secara permanent berarti menghapus seluruh data ini, dan data tidak akan pernah kembali !',
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ya',
				cancelButtonText: 'Tidak',
			  }).then((result) => {
				if (result.isConfirmed) {
				  Swal.fire(
					'Terhapus!',
					'Data Berhasil dihapus.!',
					'success'
				  );
				  window.setTimeout(function() {
					form.submit();
				 }, 2000)
				}
			  })
}

function hapus_dokumentasi() {
	event.preventDefault(); 
    var form = event.target.form; 
	Swal.fire({
				title: 'Apakah kamu yakin?',
				text: 'Jika Dokumentasi dihapus, dokumentasi ini tidak akan perah dapat dilihat lagi, dan terhapus secara permanent.',
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ya',
				cancelButtonText: 'Tidak',
			  }).then((result) => {
				if (result.isConfirmed) {
				  Swal.fire(
					'Terhapus!',
					'Dokumentasi Berhasil dihapus.!',
					'success'
				  );
				  window.setTimeout(function() {
					form.submit();
				 }, 2000)
				}
			  })
}

function aktif() {
	event.preventDefault(); 
    var form = event.target.form; 
	Swal.fire({
				title: 'Apakah kamu yakin?',
				text: 'Apakah anda yakin untuk mengaktifkan akun ini kembali ?',
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ya',
				cancelButtonText: 'Tidak',
			  }).then((result) => {
				if (result.isConfirmed) {
				  Swal.fire(
					'Berhasil!',
					'User kembali aktif dan dapat mengakses aplikasi.',
					'success'
				  );
				  window.setTimeout(function() {
					form.submit();
				 }, 2000)
				}
			  })
}

function non() {
	event.preventDefault(); 
    var form = event.target.form; 
	Swal.fire({
				title: 'Apakah kamu yakin?',
				text: 'Apakah anda yakin untuk memblokir akun ini ? jika akun ini di blokir, ia tidak akan dapat mengkases aplikasi.!',
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ya',
				cancelButtonText: 'Tidak',
			  }).then((result) => {
				if (result.isConfirmed) {
				  Swal.fire(
					'Berhasil!',
					'User berhasil diblokir, kamu dapat membuka blokir kapan saja, selama akun tidak dihapus permanen.',
					'success'
				  );
				  window.setTimeout(function() {
					form.submit();
				 }, 2000)
				}
			  })
}
</script>
